{"version":3,"sources":["music-player.js","settings.js"],"names":["playerState","soundVolume","musicVolume","currentTrack","undefined","playMainMenuMusic","stopMusic","trackNumber","Math","round","random","document","getElementsByClassName","length","onended","play","playGameMusic","pause","currentTime","getElementById","onchange","e","target","value","elements","i","volume","localStorage","setItem","JSON","stringify","setSettings","xmlHttp","XMLHttpRequest","open","onreadystatechange","res","parse","responseText","name","_id","err","getItem","querySelector","innerText","send","handleControlsChange","checked","getAttribute","substr","loadControlsSettings","loadSettings"],"mappings":"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","file":"settings.f30f590c.js","sourceRoot":"..","sourcesContent":["let playerState = {\r\n    soundVolume: 1,\r\n    musicVolume: 1,\r\n    currentTrack: undefined,\r\n}\r\n\r\nfunction playMainMenuMusic() {\r\n    if (playerState.currentTrack !== undefined) { stopMusic(); }\r\n        let trackNumber = Math.round(Math.random() * document.getElementsByClassName('music-menu').length);\r\n        if (trackNumber > 0) { trackNumber -= 1; }\r\n        playerState.currentTrack = document.getElementsByClassName('music-menu')[trackNumber];\r\n        playerState.currentTrack.onended = () => { playMainMenuMusic(); }\r\n        playerState.currentTrack.play();\r\n}\r\n\r\nfunction playGameMusic() {\r\n    if (playerState.currentTrack !== undefined) { stopMusic(); }\r\n        let trackNumber = Math.round(Math.random() * document.getElementsByClassName('music-game').length);\r\n        if (trackNumber > 0) { trackNumber -= 1; }\r\n        playerState.currentTrack = document.getElementsByClassName('music-game')[trackNumber];\r\n        playerState.currentTrack.onended = () => { playGameMusic(); }\r\n        playerState.currentTrack.play();\r\n}\r\n\r\nfunction stopMusic() {\r\n    if (playerState.currentTrack !== undefined) { playerState.currentTrack.pause(); playerState.currentTrack.currentTime = 0; }\r\n}\r\n\r\ndocument.getElementById('music-volume').onchange = (e) => {\r\n    playerState.musicVolume = e.target.value * 0.1;\r\n    let elements = document.getElementsByClassName('music');\r\n    for (let i=0 ; i < elements.length ; i++) {\r\n        elements[i].volume = playerState.musicVolume;\r\n    }\r\n    localStorage.setItem('musicVolume', JSON.stringify(playerState.musicVolume));\r\n}\r\n\r\ndocument.getElementById('sound-volume').onchange = (e) => {\r\n    playerState.soundVolume = e.target.value * 0.1;\r\n    let elements = document.getElementsByClassName('sound');\r\n    for (let i=0 ; i < elements.length ; i++) {\r\n        elements[i].volume = playerState.soundVolume;\r\n    }\r\n    document.getElementById('audio-hit1').play();\r\n    localStorage.setItem('soundVolume', JSON.stringify(playerState.soundVolume));\r\n}\r\n\r\nfunction setSettings(musicVolume, soundVolume) {\r\n    playerState.musicVolume = musicVolume;\r\n    playerState.soundVolume = soundVolume;\r\n    let elements = document.getElementsByClassName('music');\r\n    for (let i=0 ; i < elements.length ; i++) {\r\n        elements[i].volume = playerState.soundVolume;\r\n    }\r\n    document.getElementById('music-volume').value = playerState.musicVolume * 10;\r\n    elements = document.getElementsByClassName('sound');\r\n    for (let i=0 ; i < elements.length ; i++) {\r\n        elements[i].volume = playerState.soundVolume;\r\n    }\r\n    document.getElementById('sound-volume').value = playerState.soundVolume * 10;\r\n}\r\n\r\nexport {playMainMenuMusic, playGameMusic, stopMusic, setSettings}\r\n","import {setSettings} from \"./music-player\";\r\n\r\ndocument.getElementById('name-input').onchange = (e) => {\r\n    let xmlHttp = new XMLHttpRequest();\r\n    xmlHttp.open(\"POST\", 'https://jazzt-pong.herokuapp.com/changeName', true);\r\n    // xmlHttp.open(\"POST\", 'http://localhost:80/changeName', true);\r\n    xmlHttp.onreadystatechange = () => {\r\n        let res = JSON.parse(xmlHttp.responseText);\r\n        if (res.name) { localStorage.setItem('name', res.name); }\r\n        if (res._id) { localStorage.setItem('id', JSON.stringify(res._id)); }\r\n        if (res.err) {\r\n            document.getElementById('name-input').value = localStorage.getItem('name');\r\n            document.getElementById('settings-error').querySelector('span').innerText = res.err;\r\n        } else {\r\n            document.getElementById('settings-error').querySelector('span').innerText = '';\r\n        }\r\n    }\r\n    if (localStorage.getItem('id')) {\r\n        xmlHttp.send(JSON.stringify({_id: JSON.parse(localStorage.getItem('id')),name: e.target.value}));\r\n    } else {\r\n        xmlHttp.send(JSON.stringify({name: e.target.value}));\r\n    }\r\n}\r\n\r\nfunction handleControlsChange() {\r\n    let elements = document.getElementsByClassName('controls');\r\n    for (let i=0 ; i < elements.length ; i++) {\r\n        elements[i].onchange = (e) => {\r\n            if (e.target.checked) {\r\n                localStorage.setItem('controls', e.target.getAttribute('class').substr(0,1));\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction loadControlsSettings() {\r\n    if (localStorage.getItem('controls')) {\r\n        document.getElementsByClassName('controls')[JSON.parse(localStorage.getItem('controls'))].checked = true;\r\n    } else {\r\n        localStorage.setItem('controls', '1'); loadControlsSettings();\r\n    }\r\n}\r\nhandleControlsChange();\r\n\r\nfunction loadSettings() {\r\n    if (localStorage.getItem('name')) {document.getElementById('name-input').value = localStorage.getItem('name');}\r\n    if (localStorage.getItem('musicVolume') && localStorage.getItem('soundVolume')) {\r\n        setSettings(JSON.parse(localStorage.getItem('musicVolume')), JSON.parse(localStorage.getItem('soundVolume')));\r\n    }\r\n    loadControlsSettings();\r\n}\r\n\r\nexport {loadSettings}\r\n"]}
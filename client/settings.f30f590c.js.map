{"version":3,"sources":["music-player.js","settings.js"],"names":["playerState","soundVolume","musicVolume","currentTrack","undefined","playMainMenuMusic","stopMusic","trackNumber","Math","round","random","document","getElementsByClassName","length","onended","play","playGameMusic","pause","currentTime","getElementById","onchange","e","target","value","elements","i","volume","localStorage","setItem","JSON","stringify","setSettings","handleControlsChange","checked","getAttribute","substr","loadControlsSettings","getItem","parse","loadSettings"],"mappings":"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","file":"settings.f30f590c.js","sourceRoot":"..","sourcesContent":["let playerState = {\r\n    soundVolume: 1,\r\n    musicVolume: 1,\r\n    currentTrack: undefined,\r\n}\r\n\r\nfunction playMainMenuMusic() {\r\n    if (playerState.currentTrack !== undefined) { stopMusic(); }\r\n        let trackNumber = Math.round(Math.random() * document.getElementsByClassName('music-menu').length);\r\n        if (trackNumber > 0) { trackNumber -= 1; }\r\n        playerState.currentTrack = document.getElementsByClassName('music-menu')[trackNumber];\r\n        playerState.currentTrack.onended = () => { playMainMenuMusic(); }\r\n        playerState.currentTrack.play();\r\n}\r\n\r\nfunction playGameMusic() {\r\n    if (playerState.currentTrack !== undefined) { stopMusic(); }\r\n        let trackNumber = Math.round(Math.random() * document.getElementsByClassName('music-game').length);\r\n        if (trackNumber > 0) { trackNumber -= 1; }\r\n        playerState.currentTrack = document.getElementsByClassName('music-game')[trackNumber];\r\n        playerState.currentTrack.onended = () => { playGameMusic(); }\r\n        playerState.currentTrack.play();\r\n}\r\n\r\nfunction stopMusic() {\r\n    if (playerState.currentTrack !== undefined) { playerState.currentTrack.pause(); playerState.currentTrack.currentTime = 0; }\r\n}\r\n\r\ndocument.getElementById('music-volume').onchange = (e) => {\r\n    playerState.musicVolume = e.target.value * 0.1;\r\n    let elements = document.getElementsByClassName('music');\r\n    for (let i=0 ; i < elements.length ; i++) {\r\n        elements[i].volume = playerState.musicVolume;\r\n    }\r\n    localStorage.setItem('musicVolume', JSON.stringify(playerState.musicVolume));\r\n    localStorage.setItem('soundVolume', JSON.stringify(playerState.musicVolume));\r\n}\r\n\r\ndocument.getElementById('sound-volume').onchange = (e) => {\r\n    playerState.soundVolume = e.target.value * 0.1;\r\n    let elements = document.getElementsByClassName('sound');\r\n    for (let i=0 ; i < elements.length ; i++) {\r\n        elements[i].volume = playerState.soundVolume;\r\n    }\r\n    document.getElementById('audio-hit1').play();\r\n    localStorage.setItem('musicVolume', JSON.stringify(playerState.musicVolume));\r\n    localStorage.setItem('soundVolume', JSON.stringify(playerState.soundVolume));\r\n}\r\n\r\nfunction setSettings(musicVolume, soundVolume) {\r\n    playerState.musicVolume = musicVolume;\r\n    playerState.soundVolume = soundVolume;\r\n    let elements = document.getElementsByClassName('music');\r\n    for (let i=0 ; i < elements.length ; i++) {\r\n        elements[i].volume = playerState.soundVolume;\r\n    }\r\n    document.getElementById('music-volume').value = playerState.musicVolume * 10;\r\n    elements = document.getElementsByClassName('sound');\r\n    for (let i=0 ; i < elements.length ; i++) {\r\n        elements[i].volume = playerState.soundVolume;\r\n    }\r\n    document.getElementById('sound-volume').value = playerState.soundVolume * 10;\r\n}\r\n\r\nexport {playMainMenuMusic, playGameMusic, stopMusic, setSettings}\r\n","import {setSettings} from \"./music-player\";\r\n\r\ndocument.getElementById('name-input').onchange = (e) => {\r\n    localStorage.setItem('name', e.target.value);\r\n}\r\n\r\nfunction handleControlsChange() {\r\n    let elements = document.getElementsByClassName('controls');\r\n    for (let i=0 ; i < elements.length ; i++) {\r\n        elements[i].onchange = (e) => {\r\n            if (e.target.checked) {\r\n                localStorage.setItem('controls', e.target.getAttribute('class').substr(0,1));\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction loadControlsSettings() {\r\n    if (localStorage.getItem('controls')) {\r\n        document.getElementsByClassName('controls')[JSON.parse(localStorage.getItem('controls'))].checked = true;\r\n    } else {\r\n        localStorage.setItem('controls', '1'); loadControlsSettings();\r\n    }\r\n}\r\nhandleControlsChange();\r\n\r\nfunction loadSettings() {\r\n    if (localStorage.getItem('name')) {document.getElementById('name-input').value = localStorage.getItem('name');}\r\n    if (localStorage.getItem('musicVolume') && localStorage.getItem('soundVolume')) {\r\n        setSettings(JSON.parse(localStorage.getItem('musicVolume')), JSON.parse(localStorage.getItem('soundVolume')));\r\n    }\r\n    loadControlsSettings();\r\n}\r\n\r\nexport {loadSettings}\r\n"]}